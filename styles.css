/* Reset */
*{box-sizing:border-box} html,body{height:100%}
:root{
  --bg:#0b0f14; --panel:#0f151d; --card:#111a24; --muted:#9ab0c4;
  --text:#eaf2fb; --brand:#7fb6ff; --accent:#6ee7b7; --border:#1f2732;
  --danger:#ff6b6b; --shadow:0 10px 30px rgba(0,0,0,.35);
}
html[data-theme="light"]{
  --bg:#f6f8fb; --panel:#ffffff; --card:#ffffff; --muted:#5d6b79;
  --text:#0f1822; --brand:#2f6ee9; --accent:#0fb57a; --border:#e5e9f0;
  --danger:#d33; --shadow:0 10px 30px rgba(0,0,0,.08);
}
body{margin:0;background:var(--bg);color:var(--text);
  font:16px/1.5 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
a{color:inherit;text-decoration:none}

/* Topbar */
.topbar{position:sticky;top:0;z-index:10;display:flex;gap:16px;align-items:center;
  justify-content:space-between;padding:12px 16px;background:color-mix(in oklab, var(--panel) 85%, transparent);
  border-bottom:1px solid var(--border); backdrop-filter:saturate(140%) blur(8px)}
.brand{font-weight:800;letter-spacing:.3px}
.nav a{opacity:.85;margin-right:14px}
.nav a:hover{opacity:1}
.top-actions{display:flex;gap:8px;align-items:center}
.cart-btn{border:1px solid var(--border);background:var(--panel);color:var(--text);
  padding:8px 10px;border-radius:10px;cursor:pointer}
.cart-btn span{margin-left:6px;background:var(--accent);color:#002; padding:2px 6px;border-radius:8px;font-weight:800}
.btn-muted{border:1px solid var(--border);background:var(--panel);color:var(--text);padding:8px 10px;border-radius:10px;cursor:pointer}

/* Layout */
.layout{display:grid;grid-template-columns:280px 1fr;gap:0;max-width:1200px;margin:0 auto}
@media (max-width:900px){ .layout{grid-template-columns:1fr} .sidebar{order:2} .content{order:1} }

.sidebar{border-right:1px solid var(--border);background:var(--panel);padding:14px;min-height:calc(100vh - 58px)}
.sb-header{display:grid;gap:10px}
.input{width:100%;padding:10px 12px;background:var(--panel);color:var(--text);border:1px solid var(--border);border-radius:10px}
.sb-section{margin-top:16px}
.sb-title{font-weight:700;color:var(--muted);margin-bottom:8px;font-size:.9rem}

.chip-list{display:flex;flex-wrap:wrap;gap:8px}
.chip{padding:6px 10px;border:1px solid var(--border);border-radius:999px;background:color-mix(in oklab, var(--panel) 90%, transparent);cursor:pointer;font-size:.85rem;opacity:.9}
.chip.active{background:var(--brand);color:#fff;border-color:transparent}

/* Content */
.grid{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;padding:16px}
@media (max-width:1000px){ .grid{grid-template-columns:repeat(2,1fr)} }
@media (max-width:640px){ .grid{grid-template-columns:1fr} }

.card{background:var(--card);border:1px solid var(--border);border-radius:14px;overflow:hidden;display:flex;flex-direction:column;box-shadow:var(--shadow)}
.imgwrap{position:relative;background:color-mix(in oklab, var(--panel) 80%, black 5%);aspect-ratio:4/3;display:flex;align-items:center;justify-content:center}
.card img{max-width:100%;max-height:100%;object-fit:cover}
.logo-badge{position:absolute;top:10px;left:10px;width:42px;height:42px;border-radius:10px;border:1px solid var(--border);overflow:hidden;background:var(--panel);display:flex;align-items:center;justify-content:center}
.logo-badge img{width:100%;height:100%;object-fit:cover}
.logo-fallback{font-weight:800;opacity:.8}

.card .body{padding:12px}
.card h3{margin:0 0 6px 0;font-size:1.05rem}
.price{color:var(--accent);font-weight:800}
.sku{color:var(--muted);font-size:.85rem}
.desc{color:color-mix(in oklab, var(--text) 78%, transparent);font-size:.92rem}

.card .actions{display:flex;gap:8px;padding:12px}
.card .actions button{flex:1;border:1px solid var(--border);background:var(--panel);color:var(--text);padding:10px;border-radius:10px;cursor:pointer}
.card .actions button.primary{background:var(--brand);color:#fff;font-weight:800}

/* Variant picker under main image */
.variant-picker{display:flex;gap:10px;flex-wrap:wrap;padding:8px 2px}
.variant{border:1px solid var(--border);background:var(--panel);padding:0;border-radius:10px;cursor:pointer;outline:0}
.variant img{width:64px;height:64px;object-fit:cover;display:block;border-radius:10px}
.variant.active{outline:2px solid var(--brand);}

/* existing gallery container (if not present yet) */
.product-page{display:grid;grid-template-columns:1.1fr 1fr;gap:18px;padding:16px}
@media (max-width:900px){ .product-page{grid-template-columns:1fr} }
.gallery{display:grid;gap:10px}
.gallery-main{position:relative;background:color-mix(in oklab, var(--panel) 90%, black 6%);border:1px solid var(--border);border-radius:14px;overflow:hidden}
.gallery-main img{width:100%;height:min(520px,60vh);object-fit:cover;display:block}

.multi-badge{
  position:absolute;top:8px;left:8px;background:rgba(0,0,0,.55);
  color:#fff;font-size:.75rem;padding:2px 6px;border-radius:999px
}

/* Skeleton */
.skeleton{background:linear-gradient(90deg, color-mix(in oklab, var(--panel) 94%, black 8%) 25%, color-mix(in oklab, var(--panel) 80%, white 8%) 37%, color-mix(in oklab, var(--panel) 94%, black 8%) 63%);background-size:400% 100%;animation:shimmer 1.2s infinite}
@keyframes shimmer{0%{background-position:100% 0}100%{background-position:-100% 0}}
.skel-card{border:1px solid var(--border);border-radius:14px;overflow:hidden}
.skel-img{aspect-ratio:4/3}
.skel-body{padding:12px;display:grid;gap:8px}

/* Footer */
.footer{padding:24px 16px;text-align:center;color:var(--muted);border-top:1px solid var(--border)}

/* Cart */
.cart-drawer{position:fixed;top:0;right:0;width:min(420px,100%);height:100%;transform:translateX(100%);background:var(--panel);border-left:1px solid var(--border);transition:transform .25s;display:flex;flex-direction:column;z-index:30}
.cart-drawer.open{transform:translateX(0)}
.cart-header{display:flex;align-items:center;justify-content:space-between;padding:14px 16px;border-bottom:1px solid var(--border)}
.close-btn{background:transparent;color:var(--text);border:1px solid var(--border);padding:6px 10px;border-radius:10px;cursor:pointer}
.cart-items{flex:1;overflow:auto;padding:10px}
.item{display:grid;grid-template-columns:64px 1fr auto;gap:10px;align-items:center;padding:10px 0;border-bottom:1px solid var(--border)}
.item img{width:64px;height:64px;object-fit:cover;border-radius:8px}
.qty{display:flex;align-items:center;gap:8px}
.qty button{width:28px;height:28px;border-radius:8px;border:1px solid var(--border);background:var(--panel);color:var(--text);cursor:pointer}
.cart-footer{padding:12px 16px;border-top:1px solid var(--border);background:color-mix(in oklab, var(--panel) 94%, transparent)}
.cart-row{display:flex;justify-content:space-between;margin-bottom:10px}
.cart-actions{display:grid;gap:8px}
.checkout{background:var(--accent);color:#001;border:none;padding:12px;border-radius:12px;font-weight:800;cursor:pointer}

/* Contact form */
.form{max-width:720px;margin:16px;padding:16px;background:var(--card);border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow)}
.form h2{margin:0 0 12px 0}
.row{display:grid;gap:10px}
@media(min-width:700px){ .row{grid-template-columns:1fr 1fr} }
label{display:grid;gap:6px;font-weight:600}
input,textarea{padding:10px 12px;border:1px solid var(--border);border-radius:10px;background:var(--panel);color:var(--text)}
textarea{min-height:120px}
.actions{display:flex;gap:8px;margin-top:12px}
.btn{border:1px solid var(--border);background:var(--panel);color:var(--text);padding:10px 12px;border-radius:10px;cursor:pointer}
.btn.primary{background:var(--brand);color:#fff;border-color:transparent}
/* Product gallery */
.product-page{display:grid;grid-template-columns:1.1fr 1fr;gap:18px;padding:16px}
@media (max-width:900px){ .product-page{grid-template-columns:1fr} }

.gallery{display:grid;gap:10px}
.gallery-main{position:relative;background:color-mix(in oklab, var(--panel) 90%, black 6%);border:1px solid var(--border);border-radius:14px;overflow:hidden}
.gallery-main img{width:100%;height:min(520px,60vh);object-fit:cover;display:block}
.g-nav{position:absolute;top:50%;transform:translateY(-50%);border:none;background:color-mix(in oklab, var(--panel) 70%, black 10%);color:var(--text);padding:8px 12px;border-radius:10px;cursor:pointer;opacity:.8}
.g-nav:hover{opacity:1}
#gPrev{left:10px} #gNext{right:10px}

.gallery-thumbs{display:flex;gap:8px;overflow:auto;padding:4px}
.gallery-thumbs .thumb{border:1px solid var(--border);background:var(--panel);padding:0;border-radius:10px;cursor:pointer;outline:0}
.gallery-thumbs .thumb img{width:70px;height:70px;object-fit:cover;display:block;border-radius:10px}
.gallery-thumbs .thumb.active{outline:2px solid var(--brand);}

.btn-link{display:inline-block;text-align:center;padding:10px 12px;border-radius:10px;background:var(--brand);color:#fff}
.mini-strip{display:flex;gap:6px;padding:8px 12px}
.mini-strip .mini{width:22px;height:22px;border-radius:6px;background-size:cover;background-position:center;border:1px solid var(--border);opacity:.9}
