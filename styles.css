:root{
  --panel:#0f1216;
  --border:#1d2330;
  --brand:#4da3ff;
  --fg:#e7eef7;
  --muted:#9fb0c2;
  --chip:#16202b;
  --ok:#91d28d;
  --bg:#0b0e12;
}
html.light{
  --panel:#ffffff;
  --border:#e6eaf0;
  --brand:#2563eb;
  --fg:#0f172a;
  --muted:#475569;
  --chip:#f1f5f9;
  --ok:#15803d;
  --bg:#f8fafc;
}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--fg);font:15px/1.45 system-ui,-apple-system,Segoe UI,Roboto,sans-serif}

/* Hero background */
:root{ --hero-url: none; }
html.has-hero body::before{
  content:"";
  position:fixed; inset:0;
  z-index:-2;
  background:
    linear-gradient(to bottom, rgba(0,0,0,.55), rgba(0,0,0,.6)),
    var(--hero-url) center/cover no-repeat fixed;
  filter:saturate(1.05);
}
.hero{ position:relative; min-height:26vh; display:flex; align-items:flex-end; }
.hero__overlay{ width:100%; padding:42px 16px 10px; text-align:center; }
.hero__title{ margin:0; font-size:clamp(24px,3.6vw,40px); }
.hero__sub{ margin:.35rem 0 0; color:var(--muted); }

/* header */
header{position:sticky;top:0;z-index:10;backdrop-filter:saturate(1.2) blur(8px);background:color-mix(in srgb,var(--bg) 92%,transparent);border-bottom:1px solid var(--border)}
.nav{display:grid;grid-template-columns:1fr auto 1fr;align-items:center;padding:12px 16px;gap:12px}
.nav-left{font-weight:700}
.nav-center{display:flex;gap:18px;justify-content:center}
.nav-center a{text-decoration:none;color:var(--fg);opacity:.9}
.nav-center a:hover{opacity:1}
.nav-right{display:flex;gap:10px;justify-content:flex-end}
.btn{background:var(--chip);color:var(--fg);border:1px solid var(--border);padding:8px 12px;border-radius:10px;text-decoration:none;cursor:pointer}
.btn.primary{background:var(--brand);color:#001019;border:none}

/* main layout */
.main{padding:16px}
.toolbar{display:flex;gap:12px;align-items:center;justify-content:space-between;flex-wrap:wrap;margin:0 0 10px}
.toolbar-left{display:flex;gap:10px;align-items:center;flex:1 1 340px}
.toolbar-right{display:flex;gap:10px;align-items:center}
.input{width:100%;background:color-mix(in srgb,var(--bg) 96%,#000);border:1px solid var(--border);color:var(--fg);border-radius:10px;padding:10px 12px}
.clear-chip{display:inline-flex;align-items:center;gap:6px;padding:6px 10px;border-radius:999px;background:color-mix(in srgb,var(--chip) 85%,#000);border:1px solid var(--border);color:var(--fg);text-decoration:none;cursor:pointer}
.clear-chip:hover{filter:brightness(1.06)}
.main h2{text-align:center;margin:8px 0 12px}

/* product grid */
.grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:16px}
@media(max-width:1100px){.grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media(max-width:700px){.grid{grid-template-columns:1fr}}

/* product cards */
.card{background:var(--panel);border:1px solid var(--border);border-radius:16px;overflow:hidden;display:flex;flex-direction:column}
.imgwrap{position:relative;background:color-mix(in srgb,var(--bg) 94%,#000);border-bottom:1px solid var(--border);aspect-ratio:4/3;display:flex;align-items:center;justify-content:center}
.imgwrap img{width:100%;height:100%;object-fit:contain;display:block}
.badge{background:color-mix(in srgb,var(--chip) 90%,#000);color:var(--muted);padding:6px 10px;border-radius:999px}
.logo-badge{position:absolute;bottom:8px;right:8px;}
.logo-badge img{width:36px;height:36px;border-radius:999px;border:1px solid var(--border);background:#0006;display:block}
.logo-fallback{display:inline-flex;align-items:center;justify-content:center;width:36px;height:36px;border-radius:999px;background:color-mix(in srgb,var(--chip) 85%,#000);border:1px solid var(--border);color:color-mix(in srgb,var(--brand) 85%,white);font-weight:700;font-size:.8rem}
.multi-badge{position:absolute;top:8px;left:8px;background:#0009;color:#fff;font-size:.75rem;padding:2px 6px;border-radius:999px}
.card .body{padding:12px}
.card h3{margin:6px 0 4px;font-size:1.05rem}
.price{color:var(--ok);margin:4px 0}
.sku{color:var(--muted);font-size:.85rem}
.desc{color:var(--muted);font-size:.92rem}
.actions{display:flex;gap:8px;padding:0 12px 12px}
.actions .primary{background:var(--brand);border:none;color:#001019;padding:10px 14px;border-radius:10px;cursor:pointer}
.actions button{background:var(--chip);color:var(--fg);border:1px solid var(--border);padding:10px 14px;border-radius:10px;cursor:pointer}
.btn-link{display:inline-flex;align-items:center;justify-content:center;text-decoration:none}

/* gallery */
.product-page{display:grid;grid-template-columns:1.1fr 1fr;gap:18px;padding:16px}
@media(max-width:900px){.product-page{grid-template-columns:1fr}}
.gallery{display:grid;gap:10px}
.gallery-main img{width:100%;height:min(520px,60vh);object-fit:contain;display:block}
.gallery-main.fit img{object-fit:cover!important}
.gallery-tools{display:flex;gap:8px;align-items:center;padding:4px 0 8px}
.gallery-tools .btn{background:var(--chip);border:1px solid var(--border);color:var(--fg);padding:8px 12px;border-radius:10px;cursor:pointer;text-decoration:none}
.variant-picker{display:flex;gap:10px;flex-wrap:wrap;padding:8px 2px}
.variant img{width:64px;height:64px;object-fit:cover;border-radius:10px}
.variant.active{outline:2px solid var(--brand)}

/* categories */
.cat-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:16px;padding:16px}
@media(max-width:1100px){.cat-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media(max-width:700px){.cat-grid{grid-template-columns:1fr}}
.cat-card{position:relative;border-radius:16px;overflow:hidden;border:1px solid var(--border);background:color-mix(in srgb,var(--bg) 96%,#000)}
.cat-hero{aspect-ratio:16/9;width:100%;object-fit:cover;display:block}
.cat-overlay{position:absolute;inset:auto 0 0 0;padding:12px;background:linear-gradient(to top,rgba(0,0,0,.55),rgba(0,0,0,.0));display:flex;align-items:flex-end;gap:8px}
.cat-overlay h3{margin:0;font-size:1.05rem}
.cat-count{font-size:.85rem;color:#cbd6e2}